{"version":3,"sources":["components/Table/styles.js","services/api.js","components/Table/index.js","App.js","index.js"],"names":["Container","styled","div","ETable","table","Pagination","PaginationButton","PaginationItem","props","isSelect","background","padding","api","axios","create","baseURL","Table","useState","events","setEvents","total","setTotal","limit","setLimit","pages","setPages","currentPage","setCurrentPage","useEffect","a","get","response","data","length","totalPages","Math","ceil","arrayPages","i","push","slice","eventosList","console","log","loadProducts","limits","useCallback","e","target","value","onChange","map","even","id","titulo","descricao","status","onClick","page","App","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6MAEaA,EAAYC,IAAOC,IAAV,8BAITC,EAASF,IAAOG,MAAV,wVAyBNC,EAAaJ,IAAOC,IAAV,wGAOVI,EAAmBL,IAAOC,IAAV,8CAIhBK,EAAiBN,IAAOC,IAAV,sEAIzB,SAAAM,GAAK,OAAIA,EAAMC,UAAY,CAC3BC,WAAY,UACZC,QAAS,Y,QC1CIC,E,OAJHC,EAAMC,OAAO,CACvBC,QAAS,0B,OCgFIC,MA/Ef,WAAiB,IAAD,EACgBC,mBAAS,IADzB,mBACNC,EADM,KACEC,EADF,OAEcF,mBAAS,GAFvB,mBAENG,EAFM,KAECC,EAFD,OAGcJ,mBAAS,GAHvB,mBAGNK,EAHM,KAGCC,EAHD,OAIcN,mBAAS,IAJvB,mBAINO,EAJM,KAICC,EAJD,OAK0BR,mBAAS,GALnC,mBAKNS,EALM,KAKOC,EALP,KAOdC,qBAAU,WAAI,4CACZ,kCAAAC,EAAA,sEACyBjB,EAAIkB,IAAJ,mBAAoBJ,EAApB,YAAmCJ,IAD5D,OAOE,IANMS,EADR,OAEEV,EAASU,EAASC,KAAKC,QAGjBC,EAAaC,KAAKC,KAAKhB,EAAQE,GAC/Be,EAAa,GACXC,EAAE,EAAGA,GAAIJ,EAAYI,IAC3BD,EAAWE,KAAKD,GAECpB,EAAOsB,MAAM,EAAElB,GAClCG,EAASY,GACTlB,EAAUY,EAASC,KAAKS,aACxBC,QAAQC,IAAI,QAAQjB,GAbtB,6CADY,uBAAC,WAAD,wBAgBZkB,KACC,CAACxB,EAAOE,EAAOI,IAElB,IAAMmB,EAASC,uBAAY,SAACC,GAC1BxB,EAASwB,EAAEC,OAAOC,OAClBtB,EAAe,KACd,IAEH,OAAO,eAAC3B,EAAD,WACL,iDACA,yBAAQkD,SAAUL,EAAlB,UACE,wBAAQI,MAAM,IAAd,eACA,wBAAQA,MAAM,IAAd,eACA,wBAAQA,MAAM,IAAd,kBAEF,eAAC9C,EAAD,WACE,gCACE,+BACE,mCACA,uCACA,6CACA,6CAGJ,gCACGe,EAAOiC,KAAI,SAACC,GAAD,OACV,+BACE,6BAAKA,EAAKC,KACV,6BAAKD,EAAKE,SACV,6BAAKF,EAAKG,YACV,6BAAKH,EAAKI,WAJHJ,EAAKC,YASpB,eAAChD,EAAD,WACM,8CAAiBe,KACjB,eAACd,EAAD,WACGoB,EAAc,GACf,cAACnB,EAAD,CAAgBkD,QAAS,kBAAM9B,EAAeD,EAAa,IAA3D,sBAECF,EAAM2B,KAAI,SAAAO,GAAI,OACb,cAACnD,EAAD,CACAE,SAAUiD,IAAShC,EACR+B,QAAS,kBAAM9B,EAAe+B,IAFzC,SAGGA,GADEA,MAINhC,EAAcF,EAAMS,QACrB,cAAC1B,EAAD,CAAgBkD,QAAS,kBAAM9B,EAAeD,EAAa,IAA3D,4BClEGiC,MAPf,WACE,OACE,qBAAKC,UAAU,MAAf,SACE,cAAC,EAAD,OCDNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.59e3803a.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n\r\n`\r\n\r\nexport const ETable = styled.table`\r\n width: 500px;\r\n border-collapse: collapse;\r\n width: 100%;\r\n\r\n th {\r\n   padding: 10px;\r\n   background-color: #bcbcbc;\r\n   text-align: left; \r\n }\r\n\r\n tbody {\r\n   \r\n   tr {\r\n     text-align: left;\r\n     border-bottom: 1px solid #bcbcbc;\r\n\r\n     td {\r\n       padding: 10px;\r\n       text-align: left;\r\n     }\r\n   }\r\n }\r\n`\r\n\r\nexport const Pagination = styled.div`\r\n  display: flex;\r\n  min-width: 500px;\r\n  justify-content: space-between;\r\n\r\n`\r\n\r\nexport const PaginationButton = styled.div`\r\n  display: flex;\r\n`\r\n\r\nexport const PaginationItem = styled.div`\r\nmargin: 0 10px;\r\ncursor: pointer;\r\n\r\n${props => props.isSelect && {\r\n  background: '#6d6d6d',\r\n  padding: '0 5px',\r\n}}\r\n`","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3333'\r\n})\r\n\r\nexport default api;","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Container, ETable, Pagination, PaginationButton, PaginationItem } from './styles';\r\nimport api from '../../services/api';\r\n\r\nfunction Table(){\r\n  const [ events, setEvents ] = useState([]);\r\n  const [ total, setTotal ] = useState(0);\r\n  const [ limit, setLimit ] = useState(2);\r\n  const [ pages, setPages ] = useState([]);\r\n  const [ currentPage, setCurrentPage ] = useState(1);\r\n\r\n  useEffect(()=>{\r\n    async function loadProducts(){\r\n      const response = await api.get(`/eventos/${currentPage}/${limit}`);\r\n      setTotal(response.data.length);\r\n\r\n      //Função para arredondar a divisão para cima.\r\n      const totalPages = Math.ceil(total / limit);\r\n      const arrayPages = [];\r\n      for(let i=1; i<= totalPages; i++){\r\n        arrayPages.push(i);\r\n      }\r\n      let limitedArray = events.slice(0,limit)\r\n      setPages(arrayPages);\r\n      setEvents(response.data.eventosList);\r\n      console.log(\"CurrP\",currentPage)\r\n    }\r\n    loadProducts();\r\n  }, [total, limit, currentPage]);\r\n\r\n  const limits = useCallback((e) => {\r\n    setLimit(e.target.value);\r\n    setCurrentPage(1);\r\n  }, [])\r\n\r\n  return <Container>\r\n    <h1>Table of Events</h1>\r\n    <select onChange={limits}>\r\n      <option value=\"2\">2</option>\r\n      <option value=\"3\">3</option>\r\n      <option value=\"5\">5</option>\r\n    </select>\r\n    <ETable>\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Title</th>\r\n          <th>Description</th>\r\n          <th>Status</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {events.map((even)=>(\r\n          <tr key={even.id}>\r\n            <td>{even.id}</td>\r\n            <td>{even.titulo}</td>\r\n            <td>{even.descricao}</td>\r\n            <td>{even.status}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </ETable>\r\n    <Pagination>\r\n          <div>Quantidade {total}</div>\r\n          <PaginationButton>\r\n            {currentPage > 1 &&\r\n            <PaginationItem onClick={() => setCurrentPage(currentPage -1)}>Previous</PaginationItem>\r\n            }\r\n            {pages.map(page => (\r\n              <PaginationItem \r\n              isSelect={page === currentPage}\r\n              key={page} onClick={() => setCurrentPage(page)}>\r\n                {page}\r\n              </PaginationItem>\r\n            ))}\r\n            {currentPage < pages.length &&\r\n            <PaginationItem onClick={() => setCurrentPage(currentPage +1)}>Next</PaginationItem>\r\n            }\r\n          </PaginationButton>\r\n    </Pagination>\r\n  </Container>\r\n}\r\n\r\nexport default Table;","import React from 'react';\nimport Table from './components/Table';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Table />\n    </div>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}